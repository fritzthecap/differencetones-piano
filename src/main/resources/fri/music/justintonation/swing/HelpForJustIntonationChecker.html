<html>
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Fraction-Based Tunings Purity Check Help</title>
    <link rel="stylesheet" href="../../WebBrowser.css">
</head>
<body>

<h1>Check Fraction-Based Tunings for Purity</h1>

<p>
    To understand fraction-based frequency calculation, look at table below.
    It lists all notes calculated from C4 (264 Hertz) up to B4 with their fraction and frequency,
    using the fractions of <b>JustIntonation.LIMIT_5_SYMMETRIC</b> tuning.
    (You can verify these values using the "Difference-Tones on Frequency Sliders" app.)
</p>

<table>
    <tr>
        <th>Interval Name</th>
        <th>Fraction</th>
        <th>IPN Name</th>
        <th>Calculation</th>
        <th>Frequency</th>
    </tr>
    
    <tr>
        <td>UNISON</td>
        <td>1/1</td>
        <td>C4</td>
        <td>264.000 * 1/1 =</td>
        <td>264.000</td>
    </tr>
    <tr>
        <td>MINOR_SECOND</td>
        <td>16/15</td>
        <td>C#4</td>
        <td>264.000 * 16/15 =</td>
        <td>281.600</td>
    </tr>
    <tr>
        <td>MAJOR_SECOND</td>
        <td>9/8</td>
        <td>D4</td>
        <td>264.000 * 9/8 =</td>
        <td>297.000</td>
    </tr>
    <tr>
        <td>MINOR_THIRD</td>
        <td>6/5</td>
        <td>D#4</td>
        <td>264.000 * 6/5 =</td>
        <td>316.800</td>
    </tr>
    <tr>
        <td>MAJOR_THIRD</td>
        <td>5/4</td>
        <td>E4</td>
        <td>264.000 * 5/4 =</td>
        <td>330.000</td>
    </tr>
    <tr>
        <td>FOURTH</td>
        <td>4/3</td>
        <td>F4</td>
        <td>264.000 * 4/3 =</td>
        <td>352.000</td>
    </tr>
    <tr>
        <td>TRITONE</td>
        <td>45/32</td>
        <td>F#4</td>
        <td>264.000 * 45/32 =</td>
        <td>371.250</td>
    </tr>
    <tr>
        <td>FIFTH</td>
        <td>3/2</td>
        <td>G4</td>
        <td>264.000 * 3/2 =</td>
        <td>396.000</td>
    </tr>
    <tr>
        <td>MINOR_SIXTH</td>
        <td>8/5</td>
        <td>G#4</td>
        <td>264.000 * 8/5 =</td>
        <td>422.400</td>
    </tr>
    <tr>
        <td>MAJOR_SIXTH</td>
        <td>5/3</td>
        <td>A4</td>
        <td>264.000 * 5/3 =</td>
        <td>440.000</td>
    </tr>
    <tr>
        <td>MINOR_SEVENTH</td>
        <td>16/9</td>
        <td>A#4</td>
        <td>264.000 * 16/9 =</td>
        <td>469.333</td>
    </tr>
    <tr>
        <td>MAJOR_SEVENTH</td>
        <td>15/8</td>
        <td>B4</td>
        <td>264.000 * 15/8 =</td>
        <td>495.000</td>
    </tr>
</table>

<h2 id="EqualDistances">Equal Interval Distances</h2>

<p>
    For understanding the <i>Cent</i> unit, please see 
    the <a href="glossary.html">glossary</a> or 
    <a href="https://en.wikipedia.org/wiki/Cent_(music)">Wikipedia</a>.
</p><p>
    Before <i>EqualTemperament</i> was introduced at the beginning of the 20th century,
    all harmony was 
    <a href="harmony.html#SimpleRatios">fraction-oriented</a>, 
    because obviously simple interval ratios
    were crucial for harmonious sounds. But this opens is a flexibility problem,
    more precisely a modulation problem.
</p>
<p>
    We have three major thirds in a C-major scale,
    [C-E], [F-A] and [G-B].
    The question rises: has [C-E] the same Cent-distance as [F-A],
    and has [F-A] the same as [G-B]?
    (Basically this question rises for <i>every</i> interval!)
    The third [F-A] is the important sub-dominant of C-major,
    and [G-B] the even more important dominant.
</p><p>
    For <i>EqualTemperament</i>, all Cent-distances are the same,
    because all semitones have a distance of 100 Cent.
    Its frequencies are calculated by the formula 
</p><p style="margin-left: 20;">
    <code>frequency = frequencyOfA4 * (12th root of 2 power semitoneOffsetFromA4)</code>
</p><p>
    Thus the <i>EqualTemperament</i> sub-dominant IV and dominant V
    would sound as harmonious as the tonic I (which doesn't mean that they
    ARE harmonious).
</p><p>
    In fraction-based tunings it is different,
    because the Cent-distances are not equal for all semitones. 
    Some chords will sound slightly out-of-tune in <i>JustIntonation</i>,
    while others will sound better than in <i>EqualTemperament</i>.
</p><p>
    This checker-app helps to find out which intervals and triads will sound dirty
    in <i>JustIntonation</i>. The <i>EqualTemperament</i> is not fraction-based
    and thus not contained in this check. None of its intervals except the octave
    is pure, not even the fifth.
</p>


<h2 id="Scope">Report Scope</h2>

<h3 id="TriadOnly">Show triad diagnoses only</h3>
<p>
    Activate this to see information about triads only, not about intervals.
    All the intervals also occur in the triads, so you may want to shorten the report.
</p>

<h3 id="Details">Show details of diagnoses</h3>
<p>
    When deactivated, you'll see only the number of triads and intervals that are 'unjust',
    not the Cent-differences and other details.
</p>

<h3 id="UnjustOnly">Show 'unjust' details only</h3>
<p>
    No details about 'just' intervals, only about the 'unjust'.
</p>

<h3 id="SecondAndSeventh">Also check major-second and minor-seventh</h3>
<p>
    These intervals, and also minor-second and major-seventh,
    are not checked for accuracy by default,
</p>

<h3 id="FiveLimit">Always compare with 5-limit interval ratios</h3>
<p>
    When activated, the check uses the <b>JustIntonation.LIMIT_5_SYMMETRIC</b> ratios
    as template for accuracy. 
    </p><p>
    When deactivated, the check uses the first 
    occurring minor-third of the scale as template, the <b>first occurring</b> major-third,
    and so on. This is a check of the <b>inner consistency</b> of a scale.
    For example, if you check a IONIAN scale built on C (the classical C major scale),
    the first occurring minor-third would be [C D#], the first occurring 
    major-third would be [C E], and so on. Any other minor-third, major-third, ... 
    would have to have the same difference fraction as its first sibling.
</p><p>
    Calculating the difference fraction for two notes can be done by
    dividing their ratios relative to the base tone: <code>upperRatio / lowerRatio</code>.
    For example in <i>LIMIT_5_SYMMETRIC</i>, 
</p>
<ul>
    <li>if you have the minor-third [C D#], 
    you would divide <code>6/5 (D#) / 1/1 (C)</code>, which gives 6/5,</li>
    <li>but if you have the minor-third [D F], 
    you calculate <code>4/3 (F) / 9/8 (D)</code>, which gives 32/27.</li>
</ul>
<p>
    These two minor-thirds do not have the same difference fraction.
    Because [C D#] is taken as accuracy template, [D F] is considered to be 'unjust'. 
</p>

<h3 id="Scale">Scale(s)</h3>
<p>
    You can select one or more scales for the check (click, Shift-click, Ctrl-click).
    The justness-results will always be the same, but the names of the triads
    will differ, because what is called SUPERTONIC in IONIAN on C (D minor chord)
    is called SUBTONIC in PHRYGIAN on E.
</p>
<p>
    Mind that the check covers ALL diatonic intervals 
    (except tritone, seconds and sevenths), not just thirds.
    Thus a triad is considered to consist of all tones needed to get together all intervals,
    which can be achieved by octaving the chord tones.
    In other words, a major triad on C4 is built as c4-e4-g4-c5-e5.
    This 5-tone chord contains minor-third (e4-g4), major-third (c4-e4), 
    fifth (c4-g4), fourth (g4-c5), minor-sixth (e4-c5) and major-sixth (g4-e5).
</p>

<h2 id="DiffToneIntegration">Difference Tone Integration</h2>
<p>
    As difference-tones are always present, even when they are not audible
    due to orchestral volume and instrument overtones, it is legal to integrate
    them into a pureness check.
</p>

<h3 id="ConsiderDiffTone">Consider interval as 'unjust' when its difference tone is not in scale</h3>
<p>
    When the difference-tone generated by some diatonic interval
    (except seconds and sevenths) is not contained in the 12-tone scale,
    the interval is regarded to be 'unjust'.
</p>
<p>
    Try this with PYTHAGOREAN tuning, you will find many difference-tone violations.
</p>

<h3 id="CheckChromatically">Check difference tones of all intervals being in scale</h3>
<p>
    When the difference-tone generated by any <b>chromatic</b> interval 
    (really all intervals including tritone, seconds and sevenths) is not contained in the 12-tone scale,
    the interval is regarded to be 'unjust'. This is a very rigorous test that no scale will pass.
</p>

<h2 id="TuningsToCheck">Tuning(s) to check</h2>
<p>
    Choose one or more tunings that you want to examine.
    Use Ctrl-mouseclick to selectively add or remove items,
    or mouseclick and then Shift-mouseclick to select a bunch of items.
</p>

<h2 id="Purity">Check Purity</h2>
<p>
    Finally click the button "Check Purity".
    A text window will open, you can close it by ESCAPE key 
    or click into top right corner. 
</p>
<p style="margin-left: 10;">
    <code>Chromatic Scale LIMIT_5_SYMMETRIC_1: 16/15, 9/8, 6/5, 5/4, 4/3, 45/32, 3/2, 8/5, 5/3, 16/9, 15/8, 2/1<code>
</p>
<p>
    This tells you the fractions of the tones of the chosen scale.
</p>
<p style="margin-left: 10;">
    <code>Diatonic LCM = 24 (least common multiple of diatonic divisors in 9/8, 5/4, 4/3, 3/2, 5/3, 15/8)</code>
</p>
<p>
    The least common multiple of the fractions of the diatonic tones (not the semitones!) of the scale
    is considered to be a measure for simplicity: the smaller the value, the more harmony.
</p>
<p style="margin-left: 10;">
    <code>Checking 6 intervals: MINOR_THIRD(6/5), MAJOR_THIRD(5/4), FOURTH(4/3), FIFTH(3/2), MINOR_SIXTH(8/5), MAJOR_SIXTH(5/3)</code>
</p>
<p>
    The list of intervals that were checked for purity, and their fractions.
</p>
<p style="margin-left: 10;">
    <code>Found 4 unjust intervals and 2 unjust triads in 1 diatonic scales</code>
</p>
<p>
    The sum of the diagnosis. 
    Below that line you find all the diagnosis details, they should be self-explanatory.
</p>

</body>
</html>